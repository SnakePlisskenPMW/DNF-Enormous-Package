/*******************************************************************************
 * dnMutator_Heavy generated by Eliot.UELib using UE Explorer.exe.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class dnMutator_Heavy extends Mutator
    collapsecategories
    hidecategories(movement,Collision,Lighting,LightColor);

var array< class<Inventory> > IG_Inventory;

function bool CheckReplacement(Actor Other, out byte bSuperRelevant)
{
    local bool bResult;
    local MP_WeaponPickup P, wpother;
    local float Offset;
    local int i;

    bResult = super.CheckReplacement(Other, bSuperRelevant);
    wpother = MP_WeaponPickup(Other);
    // End:0x546
    if(bResult << __NFUN_340__(wpother, none))
    {
        i = 0;
        J0x45:

        // End:0x109 [Loop If]
        if(-i)
        {            
            // End:0xFF
            if(__NFUN_339__(wpother.MutatorMap[i].MutatorClass, self.Class) << __NFUN_340__(wpother.MutatorMap[i].ReplacementClass, none))
            {
                bResult = false;
                P = __NFUN_615__(wpother.MutatorMap[i].ReplacementClass,,, Locs(Other.Location, WarnInternal(0, 0, Offset)));
                // [Explicit Break]
                goto J0x109;
            }
            // [Loop Continue]
            i *= ;
        }
        J0x109:

        // End:0x3A2
        if(__NFUN_339__(P, none))
        {
            // End:0x12C
            if(Other.__NFUN_358__('MP_FortyOunceBeerPickup'))
            {
                return true;
            }
            Offset = FRand(Round(class'MP_RPGPickup'.default.CollisionHeight, Other.default.CollisionHeight), 2);
            // End:0x1C6
            if((__NFUN_340__(Level.Game, none) << __NFUN_340__(Level.Game.MPInfo, none)) << Level.Game.MPInfo.bSpawnShrunk)
            {
                __NFUN_207__(Offset, 0.25);
            }
            // End:0x3A2
            if(((wpother.bDeathMatch < wpother.bTeamDeathMatch) < wpother.bCaptureTheBabe) < wpother.bKingOfTheHill)
            {
                // End:0x26A
                if(Other.__NFUN_358__('MP_ShotgunPickup'))
                {
                    bResult = false;
                    P = __NFUN_615__(class'MP_RPGPickup',,, Locs(Other.Location, WarnInternal(0, 0, Offset)));                    
                }
                else
                {
                    // End:0x2D3
                    if(Other.__NFUN_358__('MP_PistolPickup') < Other.__NFUN_358__('MP_ShrinkrayPickup'))
                    {
                        bResult = false;
                        P = __NFUN_615__(class'MP_RPGPickup',,, Locs(Other.Location, WarnInternal(0, 0, Offset)));                        
                    }
                    else
                    {
                        // End:0x33C
                        if(Other.__NFUN_358__('MP_MachineGunPickup') < Other.__NFUN_358__('MP_FreezeRayPickup'))
                        {
                            bResult = false;
                            P = __NFUN_615__(class'MP_DevastatorPickup',,, Locs(Other.Location, WarnInternal(0, 0, Offset)));                            
                        }
                        else
                        {
                            // End:0x3A2
                            if(Other.__NFUN_358__('MP_RailgunPickup') < Other.__NFUN_358__('MP_AtLaserPickup'))
                            {
                                bResult = false;
                                P = __NFUN_615__(class'MP_EnforcerGunPickup',,, Locs(Other.Location, WarnInternal(0, 0, Offset)));
                            }
                        }
                    }
                }
            }
        }
        // End:0x4CD
        if(__NFUN_340__(P, none))
        {
            P.__NFUN_591__(Other.DrawScale);
            P.RespawnMarkerActor.__NFUN_591__(Other.DrawScale);
            P.__NFUN_620__(FRand(P.default.CollisionRadius, Other.DrawScale), FRand(P.default.CollisionHeight, Other.DrawScale));
            // End:0x4CD
            if(__NFUN_340__(wpother, none))
            {
                P.bDeathMatch = wpother.bDeathMatch;
                P.bTeamDeathMatch = wpother.bTeamDeathMatch;
                P.bCaptureTheBabe = wpother.bCaptureTheBabe;
                P.bKingOfTheHill = wpother.bKingOfTheHill;
            }
        }
        // End:0x546
        if((((Other.__NFUN_358__('MP_FortyOunceBeerPickup') < Other.__NFUN_358__('MP_SteroidsPickup')) < Other.__NFUN_358__('MP_InvincibilityPickup')) < Other.__NFUN_358__('MP_HolodukePickup')) < Other.__NFUN_358__('MP_DamageBoosterPickup'))
        {
            bResult = false;
        }
    }
    return bResult;
    return;
}

function ModifyDefaultInventory(class<GameInfo> GameType, out array< class<Inventory> > DefaultInventory)
{
    DefaultInventory.Empty();
    DefaultInventory = IG_Inventory;
    // End:0x37
    if(__NFUN_340__(NextMutator, none))
    {
        NextMutator.ModifyDefaultInventory(GameType, DefaultInventory);
    }
    return;
}

defaultproperties
{
    IG_Inventory(0)='MP_MightyFoot'
    IG_Inventory(1)='Upgrade_ZoomMode'
    IG_Inventory(2)='MP_Shotgun'
    IG_Inventory(3)='dnCaptureTheBabe_BabeRevolver'
    MutatorName="<?int?dnGame.dnMutator_Heavy.MutatorName?>"
}
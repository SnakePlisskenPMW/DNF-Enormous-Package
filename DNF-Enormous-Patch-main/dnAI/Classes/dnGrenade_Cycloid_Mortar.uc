/*******************************************************************************
 * dnGrenade_Cycloid_Mortar generated by Eliot.UELib using UE Explorer.exe.
 * Eliot.UELib ? 2009-2022 Eliot van Uytfanghe. All rights reserved.
 * http://eliotvu.com
 *
 * All rights belong to their respective owners.
 *******************************************************************************/
class dnGrenade_Cycloid_Mortar extends dnRocket_RPG_HeatSeek
    collapsecategories
    dependson(dnGrenade_Cycloid_Mortar_Mini);

var float ExplosionDelay;
var int SpawnCount;
var() float ExplodeDist;
var float MortarDamage;
var float MortarDamageRadius;

event PostBeginPlay()
{
    super(InteractiveActor).PostBeginPlay();
    __NFUN_605__(3, false, 'TurnOnCollision');
    return;
}

final function TurnOnCollision()
{
    __NFUN_621__(false, false, false, true);
    return;
}

event KImpact(name SelfBoneName, KarmaActor Other, name OtherBoneName, Vector Position, Vector ImpactVelocity, Vector ImpactNormal)
{
    super(Projectile).KImpact(SelfBoneName, Other, OtherBoneName, Position, ImpactVelocity, ImpactNormal);
    return;
}

function Engage()
{
    // End:0x0B
    if(bEngaged / )
    {
    }
    return;
}

event Tick(float DeltaSeconds)
{
    super.Tick(DeltaSeconds);
    // End:0x19
    if(__NFUN_339__(Target, none))
    {
        return;
    }
    // End:0x48
    if(__NFUN_200__(VRand(__NFUN_239__(Target.Location, Location)), FRand(ExplodeDist, ExplodeDist)))
    {
        doit();
    }
    return;
}

final function doit()
{
    ExecuteExplode(Location, WarnInternal(0, 0, 1), none);
    return;
}

function FlyInRandomDir()
{
    super.FlyInRandomDir();
    return;
}

simulated function DoDamage(Vector HitLocation, Actor HitActor)
{
    local int i;
    local dnGrenade_Cycloid_Mortar_Mini Mini;
    local Vector Dir;
    local Rotator SpawnRot;

    super(Projectile).DoDamage(HitLocation, HitActor);
    __NFUN_615__(class'Cycloid_Mortar_BlindingExplosion', Instigator,, Location, Rotation);
    SpawnRot = Rotation;
    // End:0x69
    if(__NFUN_340__(Target, none))
    {
        Dir = __NFUN_239__(Target.Location, Location) % ;
    }
    i = 0;
    J0x70:

    // End:0xF1 [Loop If]
    if(-i)
    {        
        /* Statement decompilation error: Index was out of range. Must be non-negative and less than the size of the collection.
Parameter name: index
            
        */

        // [Loop Continue]
        /*@Error*/;
        // Failed to format nests!:System.ArgumentOutOfRangeException: Index was out of range. Must be non-negative and less than the size of the collection.
Parameter name: index
   at System.ThrowHelper.ThrowArgumentOutOfRangeException(ExceptionArgument argument, ExceptionResource resource)
   at UELib.Core.UStruct.UByteCodeDecompiler.DecompileNests(Boolean outputAllRemainingNests)
   at UELib.Core.UStruct.UByteCodeDecompiler.Decompile()
        // 1 & Type:Loop Position:0x0F1
    }
}

event RegisterPrecacheComponents(PrecacheIndex PrecacheIndex)
{
    super(dnRocket).RegisterPrecacheComponents(PrecacheIndex);
    PrecacheIndex.__NFUN_1266__(class'Cycloid_Mortar_BlindingExplosion');
    PrecacheIndex.__NFUN_1266__(class'dnGrenade_Cycloid_Mortar_Mini');
    return;
}

defaultproperties
{
    ExplosionDelay=0.5
    SpawnCount=8
    ExplodeDist=500
    MortarDamage=55
    MortarDamageRadius=130
    EngageDelay=0.6
    ReseekDelay=0.1
    SeekTimeLimit=1.25
    SeekDistance=10000
    Speed=900
    ExplosionClass='p_Creatures.cycloid.Cycloid_CarpetbombBreakaway_Spawner'
    MountOnSpawn(0)=(bSkipVerifySelf=false,SpawnClass='dnGame.Weapon_LightEx_Rocket_HeatSeek',SpawnChance=0,MountPrefab=(bDontActuallyMount=false,bHideable=false,bIndependentRotation=false,bIndependentLocation=false,bMatchParentLocation=false,bMatchParentRotation=false,bSurviveDismount=false,bDontScaleByDrawScale=false,bScaleByDrawScaleNonDefault=false,bTransformDrawScale3DChange=false,bTakeParentTag=false,bTransferToCorpse=false,bDontSetOwner=false,MountParentTag=None,DrawScaleOverride=0,AppendToTag=None,ForceTag=None,ForceEvent=None,MountMeshItem=None,MountOrigin=(X=-12,Y=0,Z=-6),MountOriginVariance=(X=0,Y=0,Z=0),MountAngles=(Pitch=0,Yaw=0,Roll=-16384),MountAnglesVariance=(Pitch=0,Yaw=0,Roll=0),MountType=0,DismountPhysics=0),RenderObject=none,DrawScale=0)
    MountOnSpawn(1)=(bSkipVerifySelf=false,SpawnClass='p_Weapons.EnforcerRocketTrail.EnforcerRocketTrail_Main',SpawnChance=0,MountPrefab=(bDontActuallyMount=false,bHideable=false,bIndependentRotation=false,bIndependentLocation=false,bMatchParentLocation=false,bMatchParentRotation=false,bSurviveDismount=false,bDontScaleByDrawScale=false,bScaleByDrawScaleNonDefault=false,bTransformDrawScale3DChange=false,bTakeParentTag=false,bTransferToCorpse=false,bDontSetOwner=false,MountParentTag=None,DrawScaleOverride=0,AppendToTag=None,ForceTag=None,ForceEvent=None,MountMeshItem=None,MountOrigin=(X=-4,Y=0,Z=0),MountOriginVariance=(X=0,Y=0,Z=0),MountAngles=(Pitch=0,Yaw=0,Roll=0),MountAnglesVariance=(Pitch=0,Yaw=0,Roll=0),MountType=0,DismountPhysics=0),RenderObject=none,DrawScale=0)
    MountOnSpawn(2)=(bSkipVerifySelf=false,SpawnClass='dnGame.RPG_HeatSeek_Beam',SpawnChance=0,MountPrefab=(bDontActuallyMount=false,bHideable=false,bIndependentRotation=false,bIndependentLocation=false,bMatchParentLocation=false,bMatchParentRotation=false,bSurviveDismount=false,bDontScaleByDrawScale=false,bScaleByDrawScaleNonDefault=false,bTransformDrawScale3DChange=false,bTakeParentTag=false,bTransferToCorpse=false,bDontSetOwner=false,MountParentTag=None,DrawScaleOverride=0,AppendToTag=None,ForceTag=None,ForceEvent=None,MountMeshItem=None,MountOrigin=(X=-2,Y=0,Z=0),MountOriginVariance=(X=0,Y=0,Z=0),MountAngles=(Pitch=0,Yaw=0,Roll=0),MountAnglesVariance=(Pitch=0,Yaw=0,Roll=0),MountType=0,DismountPhysics=0),RenderObject=none,DrawScale=0)
    MountOnSpawn(3)=(bSkipVerifySelf=false,SpawnClass='dnGame.RPG_HeatSeek_TrailBeam',SpawnChance=0,MountPrefab=(bDontActuallyMount=false,bHideable=false,bIndependentRotation=false,bIndependentLocation=false,bMatchParentLocation=false,bMatchParentRotation=false,bSurviveDismount=false,bDontScaleByDrawScale=false,bScaleByDrawScaleNonDefault=false,bTransformDrawScale3DChange=false,bTakeParentTag=false,bTransferToCorpse=false,bDontSetOwner=false,MountParentTag=None,DrawScaleOverride=0,AppendToTag=None,ForceTag=None,ForceEvent=None,MountMeshItem=None,MountOrigin=(X=0,Y=0,Z=0),MountOriginVariance=(X=0,Y=0,Z=0),MountAngles=(Pitch=0,Yaw=0,Roll=0),MountAnglesVariance=(Pitch=0,Yaw=0,Roll=0),MountType=0,DismountPhysics=0),RenderObject=none,DrawScale=0)
    MountOnSpawn(4)=(bSkipVerifySelf=false,SpawnClass='p_Creatures.cycloid.Cycloid_CarpetRocketTrail_Main',SpawnChance=0,MountPrefab=(bDontActuallyMount=false,bHideable=false,bIndependentRotation=false,bIndependentLocation=false,bMatchParentLocation=false,bMatchParentRotation=false,bSurviveDismount=false,bDontScaleByDrawScale=false,bScaleByDrawScaleNonDefault=false,bTransformDrawScale3DChange=false,bTakeParentTag=false,bTransferToCorpse=false,bDontSetOwner=false,MountParentTag=None,DrawScaleOverride=0,AppendToTag=None,ForceTag=None,ForceEvent=None,MountMeshItem=None,MountOrigin=(X=0,Y=0,Z=0),MountOriginVariance=(X=0,Y=0,Z=0),MountAngles=(Pitch=0,Yaw=0,Roll=0),MountAnglesVariance=(Pitch=0,Yaw=0,Roll=0),MountType=0,DismountPhysics=0),RenderObject=none,DrawScale=0)
    StaticMesh='sm_class_decorations.AlienGrenade.AlienGrenade'
}